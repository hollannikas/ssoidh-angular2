<!DOCTYPE html>

<style>
  .my-drop-zone {
    border: dotted 3px lightgray;
  }

  html, body {
    height: 100%;
  }
</style>

<div class="container">

  <div class="row">

    <div class="col-md-3">

      <h3>Select file</h3>

      <input type="file" ng2-file-select [uploader]="uploader"/>

      <div ng2-file-drop
           [ngClass]="{'nv-file-over': hasBaseDropZoneOver}"
           (file-over)="fileOverBase($event)"
           [uploader]="uploader"
           class="well my-drop-zone">
        Or drop a picture here
      </div>

      <div class="form-group">
        <textarea [(ngModel)]="caption" (blur)="onBlur()" class="form-control" placeholder="Enter caption here"></textarea>
      </div>
    </div>

    <div class="col-md-9" style="margin-bottom: 40px">

      <h3>Upload</h3>

      <table class="table">
        <thead>
        <tr>
          <th width="50%">Name</th>
          <th>Size</th>
          <th>Progress</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="#item of uploader.queue">
          <td><strong>{{item?.file?.name}}</strong></td>
          <td *ngIf="uploader.isHTML5" nowrap>0.00 MB</td>
          <td *ngIf="uploader.isHTML5">
            <div class="progress" style="margin-bottom: 0;">
              <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': item.progress + '%' }"></div>
            </div>
          </td>
          <td class="text-center">
            <span *ngIf="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
            <span *ngIf="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
            <span *ngIf="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
          </td>
          <td nowrap>
            <button type="button" class="btn btn-success btn-xs"
                    (click)="item.upload()" [disabled]="item.isReady || item.isUploading || item.isSuccess">
              <span class="glyphicon glyphicon-upload"></span> Upload
            </button>
          </td>
        </tr>
        </tbody>
      </table>

    </div>

  </div>

</div>
